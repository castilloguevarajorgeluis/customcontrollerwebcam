sap.ui.define([
	"sap/ui/core/mvc/Controller",
	"sap/ui/model/json/JSONModel"
], function (Controller, JSONModel) {
	"use strict";
	var CController;

	CController = Controller.extend("ynstestcamera.ywatestcamera.controller.View1", {
		/**
		 * Called when a controller is instantiated and its View controls (if available) are already created.
		 * Can be used to modify the View before it is displayed, to bind event handlers and do other one-time initialization.
		 * @memberOf ynstestcamera.ywatestcamera.view.Home
		 */
		onInit: function () {
			//This code was generated by the layout editor.
			this.getView().setModel(new JSONModel({
				photos: []
			}));
			/*this.getView().byId("test").attachBrowserEvent("mousedown", this._buttonMouseDown);
			this.getView().byId("test").attachBrowserEvent("mouseup", this._buttonMouseUp);
			this.getView().byId("test").attachBrowserEvent("click", this._click);*/
		},
		
		/**
		 *@memberOf ynstestcamera.ywatestcamera.controller.Home
		 * @param {object} oEvent for
		 */
		onSnapshot: function (oEvent) {
			//This code was generated by the layout editor.
			var oModel			= this.getView().getModel();
			var aPhotos 		= oModel.getProperty("/photos");
				
			var oCamera1 = this.getView().byId("camera1");
			var oCamera2 = this.getView().byId("camera2");
			if (oEvent.getParameter("url")) {
				var oCarousel = this.getView().byId("carousel");
				oCarousel.addPage(new sap.m.Image({
					src: oEvent.getParameter("url")/*,
					height: oEvent.getParameter("height"),
					width: oEvent.getParameter("width")*/
				}));
				aPhotos.push({
					src: oEvent.getParameter("url")
				});
				oModel.setProperty("/photos", aPhotos);
			} else if (oEvent.getParameter("videourl")) {
				if (oEvent.getSource().getId() === oCamera1.getId()) {
					oCamera2.setUrlvideo(oEvent.getParameter("videourl"));
				} else if (oEvent.getSource().getId() === oCamera1.getId()) {
					oCamera1.setUrlvideo(oEvent.getParameter("videourl"));
				}
			}
				
		}/*,
		
		_buttonMouseDown: function (oEvent) {
			var test = function () {
				sap.m.MessageToast.show("Test5");
				clearInterval(fnInterval);
			};
			fnInterval = setInterval(test, 5000);
			//sap.m.MessageToast.show("Test1");
		},
		
		_buttonMouseUp: function (oEvent) {
			clearInterval(fnInterval);
			sap.m.MessageToast.show("Test2");
		},
		
		_click: function (oEvent) {
			sap.m.MessageToast.show("Test3");
		},
		
		onPress: function (oEvent) {
			sap.m.MessageToast.show("Test4");
		}*/
		
	});
	return CController;
});